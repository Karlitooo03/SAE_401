<div class="container mt-4">
  <div class="row">
    <div class="col-md-3 categories-sidebar" [ngClass]="{'show': showCategories}">
      <h3>Catégories</h3>
      <button class="btn btn-secondary" (click)="filterByCategory('all')">Toutes</button>
      <button *ngFor="let category of categories" class="btn btn-secondary" (click)="filterByCategory(category)">{{
        category }}</button>
    </div>

    <h2 class="mb-1 text-center titre">Nos Sushi Boxes</h2>

    <div class="sorting-buttons d-flex justify-content-center mb-1">
      <button (click)="changeSort('default')" class="btn btn-secondary mr-3">Ordre d'origine</button>
      <button (click)="changeSort('price')" class="btn btn-secondary mr-3">Trier par prix</button>
      <button (click)="changeSort('name')" class="btn btn-secondary">Trier par nom</button>
    </div>

    <div class="col-md-7 sushi-boxes">

      <div class="row">
        <div *ngFor="let box of boxes" class="col-md-6 mb-3">
          <div class="card">
            <div class="card-body">
              <h4 class="card-title">{{ box.name }}</h4>
              <p class="card-text">{{ box.description }}</p>
              <p class="card-text"><strong>Prix :</strong> ${{ box.price }}</p>
              <p class="card-text"><strong>Quantité:</strong> {{ box.quantity }}</p>
              <div class="action-buttons">
                <button (click)="addToCart(box)" class="btn btn-success">+</button>
                <button (click)="removeFromCart(box)" class="btn btn-danger">-</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="overlay" [ngClass]="{'show': cartSidebarVisible}" (click)="toggleCart()"></div>
    <div class="col-md-2 cart-sidebar-mobile" [ngClass]="{'show': cartSidebarVisible}">
      <div class="cart card">
        <h3 class="card-header">
          <i class="fa-solid fa-basket-shopping"></i> Panier
        </h3>
        <div class="card-body">
          <div *ngFor="let item of cart" class="cart-item">
            <p>
              <i class="fas fa-box"></i> {{ item.name }} - Quantité : {{ item.quantity }}
            </p>
          </div>
        </div>
        <p class="total-amount">
          <strong>&nbsp;Prix Total :</strong> ${{ totalAmount }}
        </p>
        <button (click)="placeOrder()" class="btn btn-success">
          <i class="fas fa-check"></i> Passer la commande
        </button>
      </div>
    </div>

    <button class="btn btn-primary categories-btn" (click)="toggleCategories()">
      <i class="fas fa-filter"></i>
    </button>

    <button class="cart-toggle-button" (click)="toggleCart()">
      <i class="fas fa-shopping-cart"></i>
    </button>

  </div>
</div>